!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],t):(e=e||self).JStorage=t(e._)}(this,function(r){"use strict";function o(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r=r&&r.hasOwnProperty("default")?r.default:r;var a="joey-obj-";return new(function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version="1.0.6",!window.localStorage||!window.sessionStorage)throw new Error("该浏览器不支持，请使用新版Chrome或者Firefox。");this.lsStorage=window.localStorage,this.ssStorage=window.sessionStorage}return function(e,t,s){t&&o(e.prototype,t),s&&o(e,s)}(e,[{key:"lsSetValue",value:function(e,t){r.isObject(t)?this.lsStorage.setItem(e,"".concat(a).concat(JSON.stringify(t))):r.isNil(t)?this.lsStorage.setItem(e,""):this.lsStorage.setItem(e,t)}},{key:"lsGetValue",value:function(e){var t=this.lsStorage.getItem(e);if(r.isNil(t)||!r.startsWith(t,a))return t;var s=r.replace(t,a,"");try{return JSON.parse(s)}catch(e){return t}}},{key:"lsRemove",value:function(e){this.lsStorage.removeItem(e)}},{key:"ssSetValue",value:function(e,t){r.isObject(t)?this.ssStorage.setItem(e,"".concat(a).concat(JSON.stringify(t))):r.isNil(t)?this.ssStorage.setItem(e,""):this.ssStorage.setItem(e,t)}},{key:"ssGetValue",value:function(e){var t=this.ssStorage.getItem(e);if(r.isNil(t)||!r.startsWith(t,a))return t;var s=r.replace(t,a,"");try{return JSON.parse(s)}catch(e){return t}}},{key:"ssRemove",value:function(e){this.ssStorage.removeItem(e)}},{key:"clearAll",value:function(){this.lsStorage.clear(),this.ssStorage.clear()}}]),e}())});
//# sourceMappingURL=index.min.js.map
